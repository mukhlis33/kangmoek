<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Riak Air â€” Layar Penuh</title>
  <style>
    html,body{height:100%;margin:0}
    body{background:#0b2540;overflow:hidden;display:flex;align-items:center;justify-content:center}
    canvas{display:block;width:100vw;height:100vh}
    .hint{position:fixed;left:12px;bottom:12px;padding:8px 12px;background:rgba(255,255,255,0.06);color:#dcefff;border-radius:8px;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;font-size:13px}
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <div class="hint">Ketuk / klik layar untuk membuat riak</div>  <script>
    // Fullscreen high-DPI canvas
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');

    function resize(){
      const dpr = window.devicePixelRatio || 1;
      canvas.width = Math.round(innerWidth * dpr);
      canvas.height = Math.round(innerHeight * dpr);
      canvas.style.width = innerWidth + 'px';
      canvas.style.height = innerHeight + 'px';
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    addEventListener('resize', resize);
    resize();

    // Ripple objects
    const ripples = [];

    function createRipple(x,y){
      // store in CSS pixels
      ripples.push({x,y,r:0,max:Math.max(innerWidth,innerHeight)*0.9, life:1});
    }

    // Support pointer events (works for mouse + touch + stylus)
    canvas.addEventListener('pointerdown', e=>{
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      createRipple(x,y);
    }, {passive:true});

    // Animation loop
    let last = performance.now();
    function loop(now){
      const dt = (now - last) / 1000; last = now;

      // fade background slightly to create trailing effect
      ctx.clearRect(0,0,innerWidth,innerHeight);

      // draw subtle background (darker water)
      const bgGrad = ctx.createLinearGradient(0,0,0,innerHeight);
      bgGrad.addColorStop(0,'#062034');
      bgGrad.addColorStop(1,'#092b45');
      ctx.fillStyle = bgGrad;
      ctx.fillRect(0,0,innerWidth,innerHeight);

      // update & draw ripples
      for(let i = ripples.length-1; i>=0; i--){
        const p = ripples[i];
        // expand speed and fade
        p.r += 180 * dt; // pixels per second
        p.life -= 0.8 * dt; // life goes from 1 -> 0

        // acoustic-like falling amplitude
        const a = Math.max(0, p.life);

        // draw ring using radial gradient for softer edges
        const grd = ctx.createRadialGradient(p.x, p.y, Math.max(1, p.r*0.6), p.x, p.y, p.r);
        // inner slightly bright, outer transparent
        grd.addColorStop(0, `rgba(255,255,255,${0.08 * a})`);
        grd.addColorStop(0.65, `rgba(150,200,255,${0.04 * a})`);
        grd.addColorStop(1, `rgba(30,60,100,0)`);

        ctx.save();
        ctx.globalCompositeOperation = 'lighter';
        ctx.fillStyle = grd;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();

        // draw thin ring outline
        ctx.lineWidth = Math.max(1, 2 * a);
        ctx.strokeStyle = `rgba(200,230,255,${0.06 * a})`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.stroke();
        ctx.restore();

        // remove when faded or too large
        if(p.life <= 0 || p.r > p.max) ripples.splice(i,1);
      }

      requestAnimationFrame(loop);
    }

    requestAnimationFrame(loop);

    // Optional: create gentle ambient ripples every few seconds to make it alive
    let ambientTimer = 0;
    setInterval(()=>{
      // random small ripple somewhere, low probability
      if(Math.random() < 0.25){
        createRipple(Math.random()*innerWidth, Math.random()*innerHeight);
      }
    }, 1200);

    // Improve responsiveness on some mobile browsers
    document.addEventListener('touchstart', e=>{}, {passive:true});
  </script></body>
</html>